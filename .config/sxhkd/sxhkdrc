# https://github.com/windelicato/dotfiles/blob/master/.config/sxhkd/sxhkdrc

mod3 + h
    xdotool keyup h key --clearmodifiers Left

mod3 + j
    xdotool keyup j key --clearmodifiers Down

mod3 + k
    xdotool keyup k key --clearmodifiers Up

mod3 + l
    xdotool keyup l key --clearmodifiers Right

# Quit bspwm
super + shift + Escape
    prompt "Are you sure you would like to quit this Xsession" "bspc quit"

# Restart hotkey damon
super + shift + x
    killandnotify "sxhkd" "Config reloaded" && sxhkd &

super + shift + p
    reloadpolybar

# Restart bspwm
ctrl + alt + super + r
    notify-send "bpswm" "Configuration reloaded" && bspc wm -r
# bspc wm -r

# Launch terminal
super + Return
    alacritty

super + ctrl + Return
    alacritty

super + alt + Return
    tdrop -ma -w 1916 -y 0 st

# Closing/Killing Windows
super + {_,shift + }q
    bspc node -{c,k}

# Close window
alt + shift + x
    bspc node -c

# Kill window
alt + ctrl + shift + x
    bspc node -k

# === MOVEMENT ===
 # Focus on window in direction
alt + {h,j,k,l}
    bspc node -f {west,south,north,east}

# Swap window in direction
shift + alt + {h,j,k,l}
    bspc node -s {west,south,north,east}

# Toggle fullscreen, floating, and tiled
mod3 + {shift + space,space,f}
   bspc node -t {tiled,floating,fullscreen}

# Rotate tree
mod3 + {_,shift +}r
    bspc node @/ --rotate {90,-90}
#   bspc node @/ -C forward # backward

# Toggle monocle layout (maximise focused node).  If you use `-l
# monocle` you lose the toggle functionality.
mod3 + m
    bspc desktop -l next

mod3 + {comma,period}
    bspc desktop -C {backward,forward}

# Dynamic gaps
mod3 + shift + bracket{left,right}
    bspc config -d focused window_gap "$(($(bspc config -d focused window_gap) {-,+} 5 ))"
ctrl + alt + {h,j,k,l}
    bspwm_resize {west,south,north,east} 20

#   bspc node -z {left -20 0,bottom 0 20,top 0 -20,right 20 0}
#   bspc node -z {right -20 0,top 0 20,bottom 0 -20,left 20 0}

ctrl + alt + 0
    bspc node @/ -B

# set manual preselect split direction on current window
# ctrl + alt + shift {h,j,k,l}
#     bspc node -p {west,south,north,east}

# cancel the manual preselect direction on the current window or all windows on the desktop
# ctrl + alt + shift + {_,shift + }space
#     bspc {node -p cancel,desktop -c}

# === Spectacle ===

# mod3 + x ; n ; r
#     bspc node -i

# === Floating Windows ===

# # Toggle floating on and off
super + o
    bspc node focused.tiled -t floating || bspc node focused.floating -t tiled

# For floating windows one can use Alt + Right Mouse click to
super + ctrl + {h,j,k,l}
    bspwm_resize {west,south,north,east} 50

# Move a floating window with the arrow keys (else use Alt + Left Mouse
# Click to drag).  I seldom use floating windows.
# ctrl + shift + {Left,Down,Up,Right}
#     bspc node -v {-20 0,0 20,0 -20,20 0}

mod3 + e
    bspc window -f {next.floating,next.tiled}

# ========================
# === CONTINUOUS INPUT ===
# ========================

mod3 + c : {h,j,k,l}
    bspwm_resize {west,south,north,east} 50

# Mode for dynamic gaps.
mod3 + c : bracket{left,right}
	bspc config -d focused window_gap "$(($(bspc config -d focused window_gap) {-,+} 5 ))"

# Move floating windows with the arrow keys
mod3 + c : {Left,Down,Up,Right}
	bspc node -v {-20 0,0 20,0 -20,20 0}

# ================
# === LAUNCHER ===
# ================

mod3 + d
    rofi -show drun

mod3 x ; {x,b}
     rofi -show {drun,window}

mod3 + {b,m}
    {$BROWSER, pcmanfm}

mod3 + {_,shift + }n
    dunstctl {history-pop,close-all}

# =================
# === ADDITIONS ===
# =================

# Speaker/output volume.  Requires `amixer` and dedicated keys.
XF86Audio{Mute,LowerVolume,RaiseVolume}
    volume-notify {toggle,-5%,+5%}

# amixer-notify "toggle"
# amixer-notify "set" "{5%-,5%+}"
# pulsevolctrl-notify "output-vol" "alsa_output.pci-0000_00_1f.3.hdmi-stereo" {+2%, -2%}
# pulsevolctrl-notify "output-mute" "alsa_output.pci-0000_00_1f.3.hdmi-stereo"

super + F9
  thunderbird

Print
    flameshot full -p ~/Pictures/screenshot

Print + shift
    flameshot gui

Print + super
    flameshot screen -p ~/Pictures/screenshot

# Media Controls
super + F1
    $TERMINAL -e ncmpcpp

super + {F5,F6,F7,F8}
    playerctl -p "mpd" {stop,previous,play-pause,next}

# Control the [last] currently active player.
mod3 + XF86Audio{Play,Prev,Next}
    playerctl {play-pause,previous,next}

# ==============
# === ADDONS ===
# ==============

# Print
#   scrot -u -z '%Y-%m-%d_%H:%M:%S_$wx$h$n.png' -e 'mv $f ~/Pictures' \
#     && notify-send -i gnome-screenshot "Window view screenshot" "Saved image to Pictures"
# mod4 + Print
#   scrot -m -z '%Y-%m-%d_%H:%M:%S_$wx$h.png' -e 'mv $f ~/Pictures' \
#     && notify-send -i gnome-screenshot "Screen view screenshot" "Saved image to Pictures"

XF86MonBrightness{Down,Up}
    xbacklight {-dec 15,-inc 15}


# =============
# === EXTRA ===
# =============

# Preselect the direction or insert again to cancel the preselection.
# This enters the manual tiling mode that splits the currently focused
# window.
# ctrl + alt + {h,j,k,l}
#     bspc node --presel-dir '~{west,south,north,east}'


# Preselect the direction or insert again to cancel the preselection.
# This enters the manual tiling mode that splits the currently focused
# window.
# mod4 + alt + {h,j,k,l}
#   bspc node --presel-dir '~{west,south,north,east}'


# Preselect the ratio.  The default value is 0.5, defined in `bspwmrc`.
# mod4 + alt + {1-9}
#   bspc node -o 0.{1-9}


# Set the node flags.  Locked is a node that cannot be closed with `bspc
# node --close`.  Marked is a specific selector that allows operating on
# the given item (such as sending the marked item to the newest
# preselection).  Sticky stays in the focused desktop.  Private tries to
# keep its dimensions and tiling position.
# mod4 + x ; f ; {l,m,s,p}
# bspc node -g {locked,marked,sticky,private}
