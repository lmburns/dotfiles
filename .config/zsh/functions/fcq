# Desc: use copyq to view clipboard history (non-tmux)

fcq() {
  # sel=$(\
    copyq eval -- \
      "tab('&clipboard'); for(i=size(); i>0; --i) print(str(read(i-1)) + '\n');" \
      | rg -v '^\s*$' \
      | nl -w2 -s" " \
      | tac \
      | fzf --layout=reverse --multi --prompt='Copyq> ' --tiebreak=index \
      | perl -pe 's/\d+\s?//g && chomp if eof' \
      | xsel -b
  # )
}

fcq

# vim: ft=zsh:et:sw=0:ts=2:sts=2:
